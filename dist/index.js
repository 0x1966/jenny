#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const yargs_1 = require("yargs");
const helpers_1 = require("yargs/helpers");
const config_1 = require("./config");
const output_1 = require("./output");
const command_1 = require("./command");
const config = (0, config_1.loadConfig)((configFilename, error) => (0, output_1.printWarning)(`error loading "${configFilename}"`, error));
function configFromArgs(argv) {
    return {
        baseUrl: argv.baseUrl,
        user: argv.user,
        token: argv.token,
        jobTemplate: argv.jobTemplate,
        namePrefix: argv.namePrefix,
    };
}
(0, yargs_1.default)((0, helpers_1.hideBin)(process.argv))
    .command('delete [path]', 'delete jenkins jobs and views according to given path', (yargs) => yargs.positional('path', {
    describe: 'select jobs in view',
    type: 'string',
}), (argv) => command_1.Command.of(configFromArgs(argv)).deleteJobsAndViewsBasedOnPath(argv.path))
    .command('sync [path]', 'one-time sync jenkins jobs and views according to given path', (yargs) => yargs.positional('path', {
    describe: 'select jobs in view',
    type: 'string',
}), (argv) => command_1.Command.of(configFromArgs(argv)).syncJobsAndViewsBasedOnPath(argv.path))
    .option('baseUrl', {
    type: 'string',
    default: config.baseUrl || 'http://localhost:8080',
    description: 'Jenkins Base URL',
})
    .option('user', {
    type: 'string',
    default: config.user || undefined,
    description: 'Jenkins username',
})
    .option('token', {
    type: 'string',
    default: config.token || undefined,
    description: 'Jenkins authentication token',
})
    .option('jobTemplate', {
    type: 'string',
    default: config.jobTemplate || undefined,
    description: 'the pipeline job template to clone, when creating new jobs',
})
    .option('namePrefix', {
    type: 'string',
    default: config.namePrefix || undefined,
    description: 'the name prefix to use when naming jobs and views based on directories',
})
    .parse();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsaUNBQXlCO0FBQ3pCLDJDQUFxQztBQUVyQyxxQ0FBMkM7QUFDM0MscUNBQXFDO0FBQ3JDLHVDQUFpQztBQUVqQyxNQUFNLE1BQU0sR0FBRyxJQUFBLG1CQUFVLEVBQUMsQ0FBQyxjQUFjLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFBLHFCQUFZLEVBQUMsa0JBQWtCLGNBQWMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUE7QUFFOUcsU0FBUyxjQUFjLENBQUMsSUFBUztJQUMvQixPQUFPO1FBQ0wsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1FBQ3JCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtRQUNmLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztRQUNqQixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7UUFDN0IsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVO0tBQzVCLENBQUE7QUFDSCxDQUFDO0FBRUQsSUFBQSxlQUFLLEVBQUMsSUFBQSxpQkFBTyxFQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN6QixPQUFPLENBQ04sZUFBZSxFQUNmLHVEQUF1RCxFQUN2RCxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ1IsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7SUFDdkIsUUFBUSxFQUFFLHFCQUFxQjtJQUMvQixJQUFJLEVBQUUsUUFBUTtDQUNmLENBQUMsRUFDSixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsaUJBQU8sQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsNkJBQTZCLENBQUMsSUFBSSxDQUFDLElBQWMsQ0FBQyxDQUM5RjtLQUNBLE9BQU8sQ0FDTixhQUFhLEVBQ2IsOERBQThELEVBQzlELENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FDUixLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRTtJQUN2QixRQUFRLEVBQUUscUJBQXFCO0lBQy9CLElBQUksRUFBRSxRQUFRO0NBQ2YsQ0FBQyxFQUNKLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxpQkFBTyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsSUFBYyxDQUFDLENBQzVGO0tBc0xBLE1BQU0sQ0FBQyxTQUFTLEVBQUU7SUFDakIsSUFBSSxFQUFFLFFBQVE7SUFDZCxPQUFPLEVBQUUsTUFBTSxDQUFDLE9BQU8sSUFBSSx1QkFBdUI7SUFDbEQsV0FBVyxFQUFFLGtCQUFrQjtDQUNoQyxDQUFDO0tBQ0QsTUFBTSxDQUFDLE1BQU0sRUFBRTtJQUNkLElBQUksRUFBRSxRQUFRO0lBQ2QsT0FBTyxFQUFFLE1BQU0sQ0FBQyxJQUFJLElBQUksU0FBUztJQUNqQyxXQUFXLEVBQUUsa0JBQWtCO0NBQ2hDLENBQUM7S0FDRCxNQUFNLENBQUMsT0FBTyxFQUFFO0lBQ2YsSUFBSSxFQUFFLFFBQVE7SUFDZCxPQUFPLEVBQUUsTUFBTSxDQUFDLEtBQUssSUFBSSxTQUFTO0lBQ2xDLFdBQVcsRUFBRSw4QkFBOEI7Q0FDNUMsQ0FBQztLQUNELE1BQU0sQ0FBQyxhQUFhLEVBQUU7SUFDckIsSUFBSSxFQUFFLFFBQVE7SUFDZCxPQUFPLEVBQUUsTUFBTSxDQUFDLFdBQVcsSUFBSSxTQUFTO0lBQ3hDLFdBQVcsRUFBRSw0REFBNEQ7Q0FDMUUsQ0FBQztLQUNELE1BQU0sQ0FBQyxZQUFZLEVBQUU7SUFDcEIsSUFBSSxFQUFFLFFBQVE7SUFDZCxPQUFPLEVBQUUsTUFBTSxDQUFDLFVBQVUsSUFBSSxTQUFTO0lBQ3ZDLFdBQVcsRUFBRSx3RUFBd0U7Q0FDdEYsQ0FBQztLQUNELEtBQUssRUFBRSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0IHlhcmdzIGZyb20gJ3lhcmdzJ1xuaW1wb3J0IHtoaWRlQmlufSBmcm9tICd5YXJncy9oZWxwZXJzJ1xuXG5pbXBvcnQge2xvYWRDb25maWcsIENvbmZpZ30gZnJvbSAnLi9jb25maWcnXG5pbXBvcnQge3ByaW50V2FybmluZ30gZnJvbSAnLi9vdXRwdXQnXG5pbXBvcnQge0NvbW1hbmR9IGZyb20gJy4vY29tbWFuZCdcblxuY29uc3QgY29uZmlnID0gbG9hZENvbmZpZygoY29uZmlnRmlsZW5hbWUsIGVycm9yKSA9PiBwcmludFdhcm5pbmcoYGVycm9yIGxvYWRpbmcgXCIke2NvbmZpZ0ZpbGVuYW1lfVwiYCwgZXJyb3IpKVxuXG5mdW5jdGlvbiBjb25maWdGcm9tQXJncyhhcmd2OiBhbnkpOiBDb25maWcge1xuICByZXR1cm4ge1xuICAgIGJhc2VVcmw6IGFyZ3YuYmFzZVVybCxcbiAgICB1c2VyOiBhcmd2LnVzZXIsXG4gICAgdG9rZW46IGFyZ3YudG9rZW4sXG4gICAgam9iVGVtcGxhdGU6IGFyZ3Yuam9iVGVtcGxhdGUsXG4gICAgbmFtZVByZWZpeDogYXJndi5uYW1lUHJlZml4LFxuICB9XG59XG5cbnlhcmdzKGhpZGVCaW4ocHJvY2Vzcy5hcmd2KSlcbiAgLmNvbW1hbmQoXG4gICAgJ2RlbGV0ZSBbcGF0aF0nLFxuICAgICdkZWxldGUgamVua2lucyBqb2JzIGFuZCB2aWV3cyBhY2NvcmRpbmcgdG8gZ2l2ZW4gcGF0aCcsXG4gICAgKHlhcmdzKSA9PlxuICAgICAgeWFyZ3MucG9zaXRpb25hbCgncGF0aCcsIHtcbiAgICAgICAgZGVzY3JpYmU6ICdzZWxlY3Qgam9icyBpbiB2aWV3JyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICB9KSxcbiAgICAoYXJndikgPT4gQ29tbWFuZC5vZihjb25maWdGcm9tQXJncyhhcmd2KSkuZGVsZXRlSm9ic0FuZFZpZXdzQmFzZWRPblBhdGgoYXJndi5wYXRoIGFzIHN0cmluZyksXG4gIClcbiAgLmNvbW1hbmQoXG4gICAgJ3N5bmMgW3BhdGhdJyxcbiAgICAnb25lLXRpbWUgc3luYyBqZW5raW5zIGpvYnMgYW5kIHZpZXdzIGFjY29yZGluZyB0byBnaXZlbiBwYXRoJyxcbiAgICAoeWFyZ3MpID0+XG4gICAgICB5YXJncy5wb3NpdGlvbmFsKCdwYXRoJywge1xuICAgICAgICBkZXNjcmliZTogJ3NlbGVjdCBqb2JzIGluIHZpZXcnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIH0pLFxuICAgIChhcmd2KSA9PiBDb21tYW5kLm9mKGNvbmZpZ0Zyb21BcmdzKGFyZ3YpKS5zeW5jSm9ic0FuZFZpZXdzQmFzZWRPblBhdGgoYXJndi5wYXRoIGFzIHN0cmluZyksXG4gIClcbiAgLy8gLmNvbW1hbmQoXG4gIC8vICAgJ2xpc3Qtam9icyBbdmlld10nLFxuICAvLyAgICdsaXN0IGpvYnMnLFxuICAvLyAgICh5YXJncykgPT4ge1xuICAvLyAgICAgcmV0dXJuIHlhcmdzLnBvc2l0aW9uYWwoJ3ZpZXcnLCB7XG4gIC8vICAgICAgIGRlc2NyaWJlOiAnc2VsZWN0IGpvYnMgaW4gdmlldycsXG4gIC8vICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAvLyAgICAgfSlcbiAgLy8gICB9LFxuICAvLyAgIChhcmd2KSA9PiB7XG4gIC8vICAgICBjb25zdCBmZXRjaCA9IGFyZ3YudmlldyA/IGZldGNoSm9ic0luVmlldyhhcmd2LnZpZXcpIDogZmV0Y2hBbGxKb2JzKClcbiAgLy8gICAgIGZldGNoKGhvc3RBbmRDcmVkZW50aWFscyhhcmd2KSlcbiAgLy8gICAgICAgLnRoZW4oKGpvYnMpID0+IGpvYnMuZm9yRWFjaCgoam9iKSA9PiBwcmludGxuKGAke2pvYi5uYW1lfWApKSlcbiAgLy8gICAgICAgLmNhdGNoKChyZWFzb24pID0+IHByaW50RXJyb3IocmVhc29uKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5jb21tYW5kKFxuICAvLyAgICdjcmVhdGUtbGlzdC12aWV3IFt2aWV3bmFtZV0gW3ZpZXdyZWdleF0nLFxuICAvLyAgICdjcmVhdGUgYSByZWdleC1iYXNlZCBsaXN0IHZpZXcnLFxuICAvLyAgICh5YXJncykgPT4ge1xuICAvLyAgICAgcmV0dXJuIHlhcmdzXG4gIC8vICAgICAgIC5wb3NpdGlvbmFsKCd2aWV3bmFtZScsIHtcbiAgLy8gICAgICAgICBkZXNjcmliZTogYFwidGhlwrd2aWV3J3PCt25hbWVcImAsXG4gIC8vICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gIC8vICAgICAgIH0pXG4gIC8vICAgICAgIC5wb3NpdGlvbmFsKCd2aWV3cmVnZXgnLCB7XG4gIC8vICAgICAgICAgZGVzY3JpYmU6IGBcInRoZSB2aWV3J3MgcmVndWxhciBleHByZXNzaW9uIHRvIHNlbGVjdCBqb2JzXCJgLFxuICAvLyAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAvLyAgICAgICB9KVxuICAvLyAgIH0sXG4gIC8vICAgKGFyZ3YpID0+IHtcbiAgLy8gICAgIGNvbnN0IGJhc2VVUkwgPSBhcmd2LmJhc2VVcmwgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB1c2VyID0gYXJndi51c2VyIGFzIHN0cmluZ1xuICAvLyAgICAgY29uc3QgdG9rZW4gPSBhcmd2LnRva2VuIGFzIHN0cmluZ1xuICAvLyAgICAgSmVua2luc0hpZ2hsZXZlbC5vZihiYXNlVVJMLCB1c2VyLCB0b2tlbilcbiAgLy8gICAgICAgLmNyZWF0ZUxpc3RWaWV3V2l0aFJlZ0V4KGFyZ3Yudmlld25hbWUgYXMgc3RyaW5nLCBhcmd2LnZpZXdyZWdleCBhcyBzdHJpbmcpXG4gIC8vICAgICAgIC50aGVuKChuYW1lKSA9PiBjb25zb2xlLmxvZyhgY3JlYXRlZCB2aWV3ICR7bmFtZX1gKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5jb21tYW5kKFxuICAvLyAgICdsaXN0LXZpZXdzJyxcbiAgLy8gICAnbGlzdCB2aWV3cycsXG4gIC8vICAgKHlhcmdzKSA9PiB5YXJncyxcbiAgLy8gICAoYXJndikgPT4ge1xuICAvLyAgICAgY29uc3QgYmFzZVVSTCA9IGFyZ3YuYmFzZVVybCBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhcmd2LnVzZXIgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB0b2tlbiA9IGFyZ3YudG9rZW4gYXMgc3RyaW5nXG4gIC8vICAgICBKZW5raW5zLm9mKGJhc2VVUkwsIHVzZXIsIHRva2VuKVxuICAvLyAgICAgICAubGlzdFZpZXdzKClcbiAgLy8gICAgICAgLnRoZW4oKHZpZXdzKSA9PiB2aWV3cy5mb3JFYWNoKHByaW50bG4pKVxuICAvLyAgIH0sXG4gIC8vIClcbiAgLy8gLmNvbW1hbmQoXG4gIC8vICAgJ2RlbGV0ZS12aWV3IFt2aWV3bmFtZV0nLFxuICAvLyAgICdkZWxldGUgdmlldyBieSBuYW1lJyxcbiAgLy8gICAoeWFyZ3MpID0+IHtcbiAgLy8gICAgIHJldHVybiB5YXJncy5wb3NpdGlvbmFsKCd2aWV3bmFtZScsIHtcbiAgLy8gICAgICAgZGVzY3JpYmU6IGBcInRoZcK3dmlldydzwrduYW1lXCJgLFxuICAvLyAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgLy8gICAgIH0pXG4gIC8vICAgfSxcbiAgLy8gICAoYXJndikgPT4ge1xuICAvLyAgICAgY29uc3QgYmFzZVVSTCA9IGFyZ3YuYmFzZVVybCBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhcmd2LnVzZXIgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB0b2tlbiA9IGFyZ3YudG9rZW4gYXMgc3RyaW5nXG4gIC8vICAgICBKZW5raW5zLm9mKGJhc2VVUkwsIHVzZXIsIHRva2VuKVxuICAvLyAgICAgICAuZGVsZXRlVmlldyhhcmd2LnZpZXduYW1lIGFzIHN0cmluZylcbiAgLy8gICAgICAgLnRoZW4oKG5hbWUpID0+IHByaW50bG4oYGRlbGV0ZWQgdmlldyB3aXRoIG5hbWUgXCIke25hbWV9XCJgKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5jb21tYW5kKFxuICAvLyAgICdkZWxldGUtYWxsLXZpZXdzJyxcbiAgLy8gICAnZGVsZXRlIGFsbCB2aWV3cycsXG4gIC8vICAgKHlhcmdzKSA9PiB5YXJncyxcbiAgLy8gICAoYXJndikgPT4ge1xuICAvLyAgICAgY29uc3QgYmFzZVVSTCA9IGFyZ3YuYmFzZVVybCBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhcmd2LnVzZXIgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB0b2tlbiA9IGFyZ3YudG9rZW4gYXMgc3RyaW5nXG4gIC8vICAgICBKZW5raW5zSGlnaGxldmVsLm9mKGJhc2VVUkwsIHVzZXIsIHRva2VuKVxuICAvLyAgICAgICAuZGVsZXRlQWxsVmlld3MoKVxuICAvLyAgICAgICAudGhlbigoY291bnQpID0+IHByaW50bG4oYGRlbGV0ZWQgJHtjb3VudH0gdmlld3NgKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5jb21tYW5kKFxuICAvLyAgICdsaXN0LWpvYnMnLFxuICAvLyAgICdsaXN0IGpvYnMnLFxuICAvLyAgICh5YXJncykgPT4geWFyZ3MsXG4gIC8vICAgKGFyZ3YpID0+IHtcbiAgLy8gICAgIGNvbnN0IGJhc2VVUkwgPSBhcmd2LmJhc2VVcmwgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB1c2VyID0gYXJndi51c2VyIGFzIHN0cmluZ1xuICAvLyAgICAgY29uc3QgdG9rZW4gPSBhcmd2LnRva2VuIGFzIHN0cmluZ1xuICAvLyAgICAgSmVua2lucy5vZihiYXNlVVJMLCB1c2VyLCB0b2tlbilcbiAgLy8gICAgICAgLmxpc3RKb2JzKClcbiAgLy8gICAgICAgLnRoZW4oKGpvYnMpID0+IGpvYnMuZm9yRWFjaChwcmludGxuKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5jb21tYW5kKFxuICAvLyAgICdkZWxldGUtam9iIFtqb2JuYW1lXScsXG4gIC8vICAgJ2RlbGV0ZSBqb2IgYnkgbmFtZScsXG4gIC8vICAgKHlhcmdzKSA9PiB7XG4gIC8vICAgICByZXR1cm4geWFyZ3MucG9zaXRpb25hbCgnam9ibmFtZScsIHtcbiAgLy8gICAgICAgZGVzY3JpYmU6IGBcInRoZcK3am9iJ3PCt25hbWVcImAsXG4gIC8vICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAvLyAgICAgfSlcbiAgLy8gICB9LFxuICAvLyAgIChhcmd2KSA9PiB7XG4gIC8vICAgICBjb25zdCBiYXNlVVJMID0gYXJndi5iYXNlVXJsIGFzIHN0cmluZ1xuICAvLyAgICAgY29uc3QgdXNlciA9IGFyZ3YudXNlciBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHRva2VuID0gYXJndi50b2tlbiBhcyBzdHJpbmdcbiAgLy8gICAgIEplbmtpbnMub2YoYmFzZVVSTCwgdXNlciwgdG9rZW4pXG4gIC8vICAgICAgIC5kZWxldGVKb2IoYXJndi5qb2JuYW1lIGFzIHN0cmluZylcbiAgLy8gICAgICAgLnRoZW4oKG5hbWUpID0+IHByaW50bG4oYGRlbGV0ZWQgam9iIHdpdGggbmFtZSBcIiR7bmFtZX1cImApKVxuICAvLyAgIH0sXG4gIC8vIClcbiAgLy8gLmNvbW1hbmQoXG4gIC8vICAgJ2NyZWF0ZS1qb2IgW2pvYm5hbWVdIFtzY3JpcHRdJyxcbiAgLy8gICAnY3JlYXRlIHBpcGVsaW5lIGpvYicsXG4gIC8vICAgKHlhcmdzKSA9PiB7XG4gIC8vICAgICByZXR1cm4geWFyZ3NcbiAgLy8gICAgICAgLnBvc2l0aW9uYWwoJ2pvYm5hbWUnLCB7XG4gIC8vICAgICAgICAgZGVzY3JpYmU6IGBcInRoZcK3am9iJ3PCt25hbWVcImAsXG4gIC8vICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gIC8vICAgICAgIH0pXG4gIC8vICAgICAgIC5wb3NpdGlvbmFsKCdzY3JpcHQnLCB7XG4gIC8vICAgICAgICAgZGVzY3JpYmU6IGBcInRoZSBqb2IncyBzY3JpcHRcImAsXG4gIC8vICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gIC8vICAgICAgIH0pXG4gIC8vICAgfSxcbiAgLy8gICAoYXJndikgPT4ge1xuICAvLyAgICAgY29uc3QgYmFzZVVSTCA9IGFyZ3YuYmFzZVVybCBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhcmd2LnVzZXIgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB0b2tlbiA9IGFyZ3YudG9rZW4gYXMgc3RyaW5nXG4gIC8vICAgICBKZW5raW5zSGlnaGxldmVsLm9mKGJhc2VVUkwsIHVzZXIsIHRva2VuKVxuICAvLyAgICAgICAuY3JlYXRlSm9iKGFyZ3Yuam9iVGVtcGxhdGUgYXMgc3RyaW5nLCBhcmd2LmpvYm5hbWUgYXMgc3RyaW5nLCBhcmd2LnNjcmlwdCBhcyBzdHJpbmcpXG4gIC8vICAgICAgIC50aGVuKChuYW1lKSA9PiBjb25zb2xlLmxvZyhgY3JlYXRlZCBqb2IgXCIke25hbWV9XCJgKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5jb21tYW5kKFxuICAvLyAgICdzeW5jLWpvYnMgW3BhdGhdJyxcbiAgLy8gICAnY3JlYXRlL3VwZGF0ZSBqb2JzIGZvciBhbGwgW1tKZW5raW5zZmlsZV1dcyBpbiBwYXRoJyxcbiAgLy8gICAoeWFyZ3MpID0+IHtcbiAgLy8gICAgIHJldHVybiB5YXJncy5wb3NpdGlvbmFsKCdwYXRoJywge1xuICAvLyAgICAgICBkZXNjcmliZTogYFwidGhlwrdwYXRoXCJgLFxuICAvLyAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgLy8gICAgIH0pXG4gIC8vICAgfSxcbiAgLy8gICAoYXJndikgPT4ge1xuICAvLyAgICAgY29uc3QgYmFzZVVSTCA9IGFyZ3YuYmFzZVVybCBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhcmd2LnVzZXIgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB0b2tlbiA9IGFyZ3YudG9rZW4gYXMgc3RyaW5nXG4gIC8vICAgICBKZW5raW5zSGlnaGxldmVsLm9mKGJhc2VVUkwsIHVzZXIsIHRva2VuKS5zeW5jSm9icyhcbiAgLy8gICAgICAgYXJndi5uYW1lUHJlZml4IGFzIHN0cmluZyxcbiAgLy8gICAgICAgYXJndi5qb2JUZW1wbGF0ZSBhcyBzdHJpbmcsXG4gIC8vICAgICAgIGFyZ3YucGF0aCBhcyBzdHJpbmcsXG4gIC8vICAgICApXG4gIC8vICAgICAvLyAudGhlbigobmFtZSkgPT4gY29uc29sZS5sb2coYHN5bmNlZCBqb2JzIFwiJHtuYW1lfVwiYCkpXG4gIC8vICAgfSxcbiAgLy8gKVxuICAvLyAuY29tbWFuZChcbiAgLy8gICAnc3luYy12aWV3cyBbcGF0aF0nLFxuICAvLyAgICdjcmVhdGUvdXBkYXRlIHZpZXdzIGZvciBhbGwgW1tKZW5raW5zZmlsZV1dcyBpbiBwYXRoJyxcbiAgLy8gICAoeWFyZ3MpID0+IHtcbiAgLy8gICAgIHJldHVybiB5YXJncy5wb3NpdGlvbmFsKCdwYXRoJywge1xuICAvLyAgICAgICBkZXNjcmliZTogYFwidGhlwrdwYXRoXCJgLFxuICAvLyAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgLy8gICAgIH0pXG4gIC8vICAgfSxcbiAgLy8gICAoYXJndikgPT4ge1xuICAvLyAgICAgY29uc3QgYmFzZVVSTCA9IGFyZ3YuYmFzZVVybCBhcyBzdHJpbmdcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhcmd2LnVzZXIgYXMgc3RyaW5nXG4gIC8vICAgICBjb25zdCB0b2tlbiA9IGFyZ3YudG9rZW4gYXMgc3RyaW5nXG4gIC8vICAgICBKZW5raW5zSGlnaGxldmVsLm9mKGJhc2VVUkwsIHVzZXIsIHRva2VuKS5zeW5jVmlld3MoYXJndi5uYW1lUHJlZml4IGFzIHN0cmluZywgYXJndi5wYXRoIGFzIHN0cmluZylcbiAgLy8gICAgIC8vIC50aGVuKChuYW1lKSA9PiBjb25zb2xlLmxvZyhgc3luY2VkIGpvYnMgXCIke25hbWV9XCJgKSlcbiAgLy8gICB9LFxuICAvLyApXG4gIC8vIC5vcHRpb24oJ3ZlcmJvc2UnLCB7XG4gIC8vICAgYWxpYXM6ICd2JyxcbiAgLy8gICB0eXBlOiAnYm9vbGVhbicsXG4gIC8vICAgZGVmYXVsdDogZmFsc2UsXG4gIC8vICAgZGVzY3JpcHRpb246ICdSdW4gd2l0aCB2ZXJib3NlIGxvZ2dpbmcnLFxuICAvLyB9KVxuICAub3B0aW9uKCdiYXNlVXJsJywge1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHQ6IGNvbmZpZy5iYXNlVXJsIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwODAnLFxuICAgIGRlc2NyaXB0aW9uOiAnSmVua2lucyBCYXNlIFVSTCcsXG4gIH0pXG4gIC5vcHRpb24oJ3VzZXInLCB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdDogY29uZmlnLnVzZXIgfHwgdW5kZWZpbmVkLFxuICAgIGRlc2NyaXB0aW9uOiAnSmVua2lucyB1c2VybmFtZScsXG4gIH0pXG4gIC5vcHRpb24oJ3Rva2VuJywge1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHQ6IGNvbmZpZy50b2tlbiB8fCB1bmRlZmluZWQsXG4gICAgZGVzY3JpcHRpb246ICdKZW5raW5zIGF1dGhlbnRpY2F0aW9uIHRva2VuJyxcbiAgfSlcbiAgLm9wdGlvbignam9iVGVtcGxhdGUnLCB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZGVmYXVsdDogY29uZmlnLmpvYlRlbXBsYXRlIHx8IHVuZGVmaW5lZCxcbiAgICBkZXNjcmlwdGlvbjogJ3RoZSBwaXBlbGluZSBqb2IgdGVtcGxhdGUgdG8gY2xvbmUsIHdoZW4gY3JlYXRpbmcgbmV3IGpvYnMnLFxuICB9KVxuICAub3B0aW9uKCduYW1lUHJlZml4Jywge1xuICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIGRlZmF1bHQ6IGNvbmZpZy5uYW1lUHJlZml4IHx8IHVuZGVmaW5lZCxcbiAgICBkZXNjcmlwdGlvbjogJ3RoZSBuYW1lIHByZWZpeCB0byB1c2Ugd2hlbiBuYW1pbmcgam9icyBhbmQgdmlld3MgYmFzZWQgb24gZGlyZWN0b3JpZXMnLFxuICB9KVxuICAucGFyc2UoKVxuIl19